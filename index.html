<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Wanda</title>
    <!-- IMPORT FONTS -->
    <link href='https://fonts.googleapis.com/css?family=Montserrat:400' rel='stylesheet' type='text/css'>

    <!-- CSS -->
    <link rel="stylesheet" href="css/style.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Web Component's for Speaking Wanda-->
    <script src="bower_components/webcomponentsjs/webcomponents-lite.min.js"></script>

    <!-- Importing Custom Elements -->
    <link rel="import" href="src/voice-player.html">
    <link rel="import" href="src/voice-recognition.html">
      
    <script src="//www.google.com/js/gweb/analytics/autotrack.js"></script>
    <!--<script src="js/speech.js"></script>-->
      
  </head>

  <body>
    <div id="wrapper">
        
      <!-- Support Warning -->
      <div class="brower-support">
          <p>Es tut uns leid, Du ben√∂tigst  <a href="https://www.google.de/chrome/browser/desktop/"> Chrome </a> um <h1>Wanda</h1> zu aktivieren.</p>
      </div>

      
      <div id="container">
          <h1>Wanda</h1>
          
            <!-- Sprachausgabe -->
            <voice-player accent="de-DE" id="player-element" text=""></voice-player>
                
            <script>
                window.addEventListener('WebComponentsReady', function(e) {
                    var form = document.querySelector('#player-form'),
                        input = document.querySelector('#player-input'),
                        element = document.querySelector('#player-element');

                    element.setAttribute('text', input.value);

                    input.addEventListener('input', function(e) {
                        element.setAttribute('text', input.value);
                    });

                    form.addEventListener('submit', function(e) {
                        e.preventDefault();
                        element.speak();
                    });
                });
            </script>

                <div class="example">
                    <form id="player-form" class="pure-form">
                        <fieldset>
                            <input id="player-input" type="text" value="Text eingeben">
                            <button id="player-submit">Sprachausgabe</button>
                        </fieldset>
                    </form>
                </div>

            <!-- Google Speech API - HTML -->
            <h1 class="center" id="headline">Spracherkennung</h1>
            <button id="start_button" class="button" onclick="startButton(event)">Aufnahme starten/stoppen</button>

            <div id="results">
              <span id="final_span" class="final">Hier entsteht Text.</span>
              <span id="interim_span" class="interim"></span>
            </div>
            <div class="center">
              <div id="div_language">
                <select id="select_language" onchange="updateCountry()"></select>
                &nbsp;&nbsp;
                <select id="select_dialect"></select>
              </div> 
            </div>
          
         <!-- RobertAPI -->
          <!--<script type="text/javascript">

            var text = document.getElementById('final_span')

            var speech = new Speech({
                debugging: true,
                continuous: true,
                interimResults: true,
                autoRestart: true
            })

            speech
                .on('start', function () {
                    text.innerHTML = 'Come on, talk to me.'
                })
                .on('end', function () {
                    text.innerHTML = 'Stopped listening.'
                })
                .on('interimResult', function (msg) {
                    text.innerHTML = msg
                })
                .on('finalResult', function (msg) {
                    text.innerHTML = msg
                })
                .start()

        </script>-->  
        </div>
    </div>
            
    <!-- Google Speech API -->
    <script src="js/googleSpeech.js"></script>
    
    <!-- Browser - Support -->
    <script src="js/support.js"></script>
    
  </body>
</html>
